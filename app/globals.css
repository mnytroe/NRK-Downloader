@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root { --ring: #1767CE; } /* NRK Core Blue 600 */
  html, body { height: 100%; }
  body {
    @apply text-gray-900 dark:text-gray-100;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;
    background: #ffffff;
  }
  
  /* Dark mode background */
  body.dark {
    background: #0a0a0a;
  }
  
  ::selection { @apply bg-blue-200 dark:bg-blue-900 text-current; }
  :focus-visible { outline: none; box-shadow: 0 0 0 2px #1767CE; }
  @media (prefers-reduced-motion: reduce) {
    * { animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important; }
  }
}

@layer components {
  /* Layout */
  .shell { @apply min-h-screen flex items-center justify-center p-6 bg-gray-50 dark:bg-gray-950; }
  .panel { 
    @apply max-w-2xl w-full p-6 space-y-4 rounded-lg
           bg-white dark:bg-gray-900
           border border-gray-200 dark:border-gray-800
           shadow-sm; 
  }
  .panel-hover { 
    @apply hover:border-gray-300 dark:hover:border-gray-700 transition-colors; 
  }

  /* Tekst */
  .title { @apply text-3xl font-bold text-gray-900 dark:text-white; }
  .muted { @apply text-gray-600 dark:text-gray-300; }

  /* Knapper */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg font-medium transition
           focus-visible:ring-2 focus-visible:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none;
  }
  .btn        { @apply h-10 px-4 text-sm; }
  .btn-primary{ 
    @apply btn text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-800; 
  }
  .btn-ghost   { 
    @apply btn bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700
           text-gray-900 dark:text-gray-100; 
  }
  .btn-outline { 
    @apply btn border border-gray-300 dark:border-gray-700
           text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-900
           hover:bg-gray-50 dark:hover:bg-gray-800; 
  }

  /* Form */
  .input {
    @apply w-full rounded-lg border border-gray-300 dark:border-gray-700
           bg-white dark:bg-gray-900
           text-gray-900 dark:text-gray-100
           px-3 py-2 transition placeholder:text-gray-500
           hover:border-gray-400 dark:hover:border-gray-600
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }
  .field { @apply space-y-2; }
  .label { @apply text-sm font-medium text-gray-700 dark:text-gray-300; }

  /* Drop zone */
  .drop-wrap {
    @apply relative w-full rounded-lg border-2 border-dashed
           border-gray-300 dark:border-gray-700
           bg-gray-50 dark:bg-gray-950
           hover:border-gray-400 dark:hover:border-gray-600
           focus-within:border-blue-500 dark:focus-within:border-blue-500
           focus-within:ring-2 focus-within:ring-blue-500/20
           transition-colors;
  }
  
  .drop-wrap.dark-mode-dashed {
    @apply border-gray-300 dark:border-gray-700
           hover:border-gray-400 dark:hover:border-gray-600;
  }
  
  .drop-wrap--drag {
    @apply border-blue-500 dark:border-blue-500
           bg-blue-50 dark:bg-blue-950/20;
  }
  
  .input-plain { 
    @apply input border-0 ring-0 bg-transparent h-12 
           focus:ring-0 focus:border-transparent; 
  }

  /* Icon button */
  .icon-btn {
    @apply inline-flex items-center justify-center rounded-lg p-2
           bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700
           text-gray-700 dark:text-gray-300
           border border-gray-300 dark:border-gray-700
           transition-colors
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500;
  }

  /* Toolbar/strip */
  .toolbar {
    @apply flex items-center justify-between gap-3 rounded-xl bg-white/70 dark:bg-gray-800/70
           border border-gray-200 dark:border-gray-700 backdrop-blur p-2;
  }

  /* Delestreker og spacing */
  .section-divider { 
    @apply border-t border-gray-200 dark:border-white/10 pt-6 mt-4; 
  }

  /* Badge styling */
  .badge {
    @apply inline-flex items-center gap-2 rounded-full px-3 h-8 text-sm font-medium;
  }
  .badge-idle    { @apply text-gray-600 dark:text-gray-300 bg-gray-100/60 dark:bg-white/5; }
  .badge-working { @apply text-blue-700 dark:text-blue-300 bg-blue-100/70 dark:bg-blue-900/30; }
  .badge-done    { @apply text-green-700 dark:text-green-300 bg-green-100/70 dark:bg-green-900/30; }
  .badge-error   { @apply text-red-700 dark:text-red-300 bg-red-100/70 dark:bg-red-900/30; }
  .badge-aborted { @apply text-yellow-700 dark:text-yellow-300 bg-yellow-100/70 dark:bg-yellow-900/30; }

  /* Info cards */
  .info-card {
    @apply rounded-lg p-3 border;
  }
  .info-blue {
    @apply bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-900;
  }
  .info-yellow {
    @apply bg-yellow-50 dark:bg-yellow-950/30 border-yellow-200 dark:border-yellow-900;
  }

  /* Sm√• animasjoner */
  .fade-in { @apply animate-fade-in; }
  .slide-up { @apply animate-slide-up; }
}

